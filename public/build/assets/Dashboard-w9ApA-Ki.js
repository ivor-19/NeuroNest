import{r as l,j as e,L as _,S as F}from"./app-BL0KWvuE.js";import{B as h,C as i,c as o,a as I,b as E}from"./badge-DX-hSzwJ.js";import{B as $}from"./button-CjHP5RnJ.js";import{I as H}from"./input-DaAHyLeW.js";import{S as M,a as O,b as R,c as V,d as w}from"./select-Y-lX9e8p.js";import{m as q,n as u,o as p,p as j,C as D}from"./user-menu-content-mFISpfd6.js";import{P as G}from"./placeholder-pattern-DDg-imHs.js";import{H as J}from"./header-layout-BugiHsaL.js";import{T as U}from"./target-DmM8GMoU.js";import{B as f}from"./book-open-DgnQBgSR.js";import{C as z}from"./clock-DtFJrPWP.js";import{G as K}from"./graduation-cap-D_NDlXqB.js";import{S}from"./search-BVSg3_k5.js";import{S as y}from"./star-DrkhLoqs.js";import{U as W}from"./user-DcmHKIQc.js";import{M as Y}from"./mail-C4_eHR4b.js";import{P as Q}from"./play-BGBHw2zf.js";import"./index-CJPvCRj7.js";import"./index-hOn5HVUv.js";import"./index-G8YvO4IO.js";import"./check-D8S4E2On.js";import"./x-J_75UvRD.js";import"./app-logo-icon-erXsJOKm.js";import"./menu-ByIxIc83.js";import"./award-COYat7Th.js";function be({user:b,subjects:n}){const[t,C]=l.useState(n||[]),[c,k]=l.useState(""),[m,T]=l.useState("all"),[a,g]=l.useState([]);l.useEffect(()=>{C(n||[])},[n]),l.useEffect(()=>{const s=localStorage.getItem("favoriteSubjects");s&&g(JSON.parse(s))},[]);const A=s=>{const r=a.includes(s)?a.filter(x=>x!==s):[...a,s];g(r),localStorage.setItem("favoriteSubjects",JSON.stringify(r))},d=t.filter(s=>{var v;const r=c===""||s.title.toLowerCase().includes(c.toLowerCase())||s.code.toLowerCase().includes(c.toLowerCase())||((v=s.instructor_name)==null?void 0:v.toLowerCase().includes(c.toLowerCase())),x=m==="all"||s.semester===m;return r&&x}),N=t.filter(s=>s.isActive).length,L=[...new Set(t.map(s=>s.semester))].length,P=[...new Set(t.map(s=>s.instructor_name).filter(Boolean))].length,B=t.length>0?Math.round(N/t.length*100):0;return e.jsx(q,{children:e.jsxs(J,{children:[e.jsx(_,{title:"Dashboard"}),e.jsx("div",{className:"min-h-screen mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",b.name]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Continue your learning journey"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(u,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),7," day streak"]})}),e.jsx(j,{children:e.jsx("p",{children:"Keep up the great work!"})})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(i,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Subjects"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," favorited"]})]})]})})}),e.jsx(i,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Subjects"}),e.jsx("p",{className:"text-2xl font-bold",children:N}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[B,"% completion"]})]})]})})}),e.jsx(i,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Semesters"}),e.jsx("p",{className:"text-2xl font-bold",children:L}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Academic periods"})]})]})})}),e.jsx(i,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Instructors"}),e.jsx("p",{className:"text-2xl font-bold",children:P}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Teaching you"})]})]})})})]}),e.jsxs(i,{children:[e.jsxs(I,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"})," Academic Subjects"]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Browse and access your enrolled subjects (",d.length," of ",t.length,")"]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(H,{placeholder:"Search subjects or instructors...",value:c,onChange:s=>k(s.target.value),className:"pl-10"})]}),e.jsxs(M,{value:m,onValueChange:T,children:[e.jsx(O,{className:"w-full sm:w-[180px] cursor-pointer",children:e.jsx(R,{placeholder:"Filter by Semester"})}),e.jsxs(V,{children:[e.jsx(w,{value:"all",children:"All Semesters"}),[...new Set(t.map(s=>s.semester))].map(s=>e.jsxs(w,{value:s,children:["Semester ",s]},s))]})]})]})]}),t.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-10 border rounded-md",children:[e.jsx(f,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"You are not enrolled in any subjects yet."}),e.jsx("p",{className:"text-sm mt-2",children:"Please contact your administrator or check back later."})]}):d.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-10 border rounded-md mx-6 mb-6",children:[e.jsx(S,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"No subjects match your search criteria."}),e.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search terms or filters."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:d.map(s=>e.jsx(i,{className:"hover:bg-muted/50 transition-colors cursor-pointer group",onClick:()=>F.visit(route("student.modules",{subject_id:s.id})),children:e.jsxs(o,{className:"p-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"w-full h-48 relative",children:[s.image?e.jsx("img",{src:`/public/storage/${s.image}`,alt:`${s.title} subject title`,className:"w-full h-full object-cover rounded-t-lg"}):e.jsxs("div",{className:"relative h-full rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:[e.jsx(G,{className:"w-full h-full stroke-neutral-900/20 dark:stroke-neutral-100/20"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground",children:"No image available"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsxs(u,{children:[e.jsx(p,{asChild:!0,children:e.jsx("button",{onClick:r=>{r.stopPropagation(),A(s.id)},className:"absolute top-2 left-2 p-2 bg-white/90 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(y,{className:`h-4 w-4 ${a.includes(s.id)?"fill-yellow-400 text-yellow-400":"text-gray-600"}`})})}),e.jsx(j,{children:e.jsx("p",{children:a.includes(s.id)?"Remove from favorites":"Add to favorites"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),a.includes(s.id)&&e.jsx(y,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.code})]}),e.jsx(h,{variant:s.isActive?"default":"secondary",children:s.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{variant:"outline",children:["Sem ",s.semester]}),s.instructor_name&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(W,{className:"h-4 w-4"}),s.instructor_name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.instructor_email&&e.jsxs(u,{children:[e.jsx(p,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:r=>{r.stopPropagation(),window.location.href=`mailto:${s.instructor_email}`},children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsx(j,{children:e.jsxs("p",{children:["Email ",s.instructor_name]})})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Q,{className:"h-4 w-4"})," View modules"]})]})]})]})]})},s.id))})]})]})})]})})}export{be as default};
