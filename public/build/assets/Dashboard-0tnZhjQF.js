import{r as l,j as e,L as F,S as E}from"./app-lwxBsKTj.js";import{B as o,C as i,c as n,a as M,b as $}from"./badge-DcgD2WLa.js";import{B as S}from"./button-BNAtDNeK.js";import{I as D}from"./input-DD-ZAaNn.js";import{S as H,a as O,b as R,c as V,d as y}from"./select-DuV8itXD.js";import{m as q,n as d,o as m,p as x,B as f,C as z}from"./user-menu-content-BakU997Y.js";import{P as G}from"./placeholder-pattern-ClZf5Tmh.js";import{H as J}from"./header-layout-3mVBskwl.js";import{T as U}from"./target-Ct-G29lI.js";import{c as Y}from"./createLucideIcon-BwC35lIL.js";import{C as K}from"./clock-CIvkEg34.js";import{G as W}from"./graduation-cap-Bh529Wn8.js";import{S as b}from"./search-DlkRTwUR.js";import{S as C}from"./star-Czx-7Whs.js";import{U as Q}from"./user-B2U6vIuz.js";import{M as X}from"./mail-9M3cnwTg.js";import{P as Z}from"./play-BuGoBbM6.js";import"./index-BRYVQpix.js";import"./index-Brngzh_k.js";import"./index-BoKOSK4I.js";import"./chevron-down-9gJcA0WW.js";import"./check-Cj685rQu.js";import"./x-CTa19X_G.js";import"./app-logo-icon-DE-45JWC.js";import"./menu-BEMfScsH.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],se=Y("Bell",ee);function Ae({user:k,subjects:h}){const[t,T]=l.useState(h||[]),[c,A]=l.useState(""),[u,B]=l.useState("all"),[r,g]=l.useState([]);l.useEffect(()=>{T(h||[])},[h]),l.useEffect(()=>{const s=localStorage.getItem("favoriteSubjects");s&&g(JSON.parse(s))},[]);const L=s=>{const a=r.includes(s)?r.filter(j=>j!==s):[...r,s];g(a),localStorage.setItem("favoriteSubjects",JSON.stringify(a))},p=t.filter(s=>{var w;const a=c===""||s.title.toLowerCase().includes(c.toLowerCase())||s.code.toLowerCase().includes(c.toLowerCase())||((w=s.instructor_name)==null?void 0:w.toLowerCase().includes(c.toLowerCase())),j=u==="all"||s.semester===u;return a&&j}),N=t.filter(s=>s.isActive).length,_=[...new Set(t.map(s=>s.semester))].length,P=[...new Set(t.map(s=>s.instructor_name).filter(Boolean))].length,I=t.length>0?Math.round(N/t.length*100):0,v=3;return e.jsx(q,{children:e.jsxs(J,{children:[e.jsx(F,{title:"Dashboard"}),e.jsx("div",{className:"min-h-screen mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",k.name]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Continue your learning journey"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{children:[e.jsx(m,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),7," day streak"]})}),e.jsx(x,{children:e.jsx("p",{children:"Keep up the great work!"})})]}),e.jsxs(d,{children:[e.jsx(m,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),e.jsx(o,{variant:"destructive",className:"mr-2 h-5 w-5 p-0 text-xs",children:v}),"Notifications"]})}),e.jsx(x,{children:e.jsxs("p",{children:["You have ",v," upcoming deadlines"]})})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Subjects"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.length," favorited"]})]})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Subjects"}),e.jsx("p",{className:"text-2xl font-bold",children:N}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[I,"% completion"]})]})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Semesters"}),e.jsx("p",{className:"text-2xl font-bold",children:_}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Academic periods"})]})]})})}),e.jsx(i,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Instructors"}),e.jsx("p",{className:"text-2xl font-bold",children:P}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Teaching you"})]})]})})})]}),e.jsxs(i,{children:[e.jsxs(M,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"})," Academic Subjects"]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Browse and access your enrolled subjects (",p.length," of ",t.length,")"]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Search subjects or instructors...",value:c,onChange:s=>A(s.target.value),className:"pl-10"})]}),e.jsxs(H,{value:u,onValueChange:B,children:[e.jsx(O,{className:"w-full sm:w-[180px]",children:e.jsx(R,{placeholder:"Filter by Semester"})}),e.jsxs(V,{children:[e.jsx(y,{value:"all",children:"All Semesters"}),[...new Set(t.map(s=>s.semester))].map(s=>e.jsxs(y,{value:s,children:["Semester ",s]},s))]})]})]})]}),t.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-10 border rounded-md",children:[e.jsx(f,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"You are not enrolled in any subjects yet."}),e.jsx("p",{className:"text-sm mt-2",children:"Please contact your administrator or check back later."})]}):p.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-10 border rounded-md mx-6 mb-6",children:[e.jsx(b,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"No subjects match your search criteria."}),e.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search terms or filters."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:p.map(s=>e.jsx(i,{className:"hover:bg-muted/50 transition-colors cursor-pointer group",onClick:()=>E.visit(route("student.modules",{subject_id:s.id})),children:e.jsxs(n,{className:"p-2 flex flex-col gap-4",children:[e.jsxs("div",{className:"w-full h-48 relative",children:[s.image?e.jsx("img",{src:`/storage/app/public/${s.image}`,alt:`${s.title} subject title`,className:"w-full h-full object-cover rounded-t-lg"}):e.jsxs("div",{className:"relative h-full rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:[e.jsx(G,{className:"w-full h-full stroke-neutral-900/20 dark:stroke-neutral-100/20"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground",children:"No image available"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsxs(d,{children:[e.jsx(m,{asChild:!0,children:e.jsx("button",{onClick:a=>{a.stopPropagation(),L(s.id)},className:"absolute top-2 left-2 p-2 bg-white/90 rounded-full hover:bg-white transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(C,{className:`h-4 w-4 ${r.includes(s.id)?"fill-yellow-400 text-yellow-400":"text-gray-600"}`})})}),e.jsx(x,{children:e.jsx("p",{children:r.includes(s.id)?"Remove from favorites":"Add to favorites"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),r.includes(s.id)&&e.jsx(C,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.code})]}),e.jsx(o,{variant:s.isActive?"default":"secondary",children:s.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"outline",children:["Sem ",s.semester]}),s.instructor_name&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Q,{className:"h-4 w-4"}),s.instructor_name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.instructor_email&&e.jsxs(d,{children:[e.jsx(m,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:a=>{a.stopPropagation(),window.location.href=`mailto:${s.instructor_email}`},children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsx(x,{children:e.jsxs("p",{children:["Email ",s.instructor_name]})})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Z,{className:"h-4 w-4"})," View modules"]})]})]})]})]})},s.id))})]})]})})]})})}export{Ae as default};
