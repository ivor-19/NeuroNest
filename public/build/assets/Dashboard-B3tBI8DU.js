import{K as M,r as b,j as e,L as E,S as m}from"./app-DPpDHeot.js";import{B as x}from"./button-5rleQZWM.js";import{B as d,C as r,a as l,b as c,c as i,d as B}from"./badge-CFN1t7oJ.js";import{T as P,a as $,b as H,c as U}from"./tabs-C7u14ITc.js";import{I}from"./input-COP_1Vis.js";import{m as V,C as v,B as w,n as u,o as h,p as j,D as Y,d as z,e as G,g as y,S}from"./user-menu-content-hWpYs5TB.js";import{H as K}from"./header-layout-BxaydInR.js";import{P as O}from"./placeholder-pattern-CGRLDaQH.js";import{U as C}from"./users-4iRM-hWf.js";import{G as R}from"./graduation-cap-D5cTDl-E.js";import{T as W}from"./trending-up-B77slfMs.js";import{S as _}from"./search-B8cNfduI.js";import{E as q}from"./ellipsis-DYIlqy5G.js";import{E as F}from"./eye-BPQ0qtyu.js";import{T as J}from"./text-select-C4By1KEU.js";import"./createLucideIcon-zIaxm-Kn.js";import"./x-asu3yKNk.js";import"./index-YHXoRFnw.js";import"./index-Bd5eS0n0.js";import"./app-logo-icon-C8-wOQb5.js";import"./index-4LPP99tq.js";import"./menu-CScxh2_J.js";function ve({sections:t=[]}){const{auth:T}=M().props,[L,Q]=b.useState(!1),[a,k]=b.useState(""),n=t.filter(s=>s.subject.title.toLowerCase().includes(a.toLowerCase())||s.subject.code.toLowerCase().includes(a.toLowerCase())||s.course_code.toLowerCase().includes(a.toLowerCase())||s.section.toLowerCase().includes(a.toLowerCase())),p=L?n:n.slice(0,3),o=t.length,f=t.reduce((s,A)=>s+A.student_count,0),g=t.filter(s=>s.subject.isActive===1).length,N=o-g,D=[...new Set(t.map(s=>s.subject.semester))][0]||"N/A";return e.jsx(V,{children:e.jsxs(K,{children:[e.jsx(E,{title:"Dashboard"}),e.jsx("div",{className:"min-h-screen mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",T.user.name]}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your sections today."})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(d,{variant:"outline",className:"mb-2",children:[e.jsx(v,{className:"h-3 w-3 mr-1"}),"Current Semester: ",D]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Active Sections"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N>0&&`${N} inactive`})]})]}),e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total Students"}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",o>0?Math.round(f/o):0," per section"]})]})]}),e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Year Levels"}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:[...new Set(t.map(s=>s.year_level))].length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Different levels"})]})]}),e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Avg. Progress"}),e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"75%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2% from last month"})]})]})]}),e.jsxs(P,{defaultValue:"sections",className:"space-y-6",children:[e.jsx($,{className:"rounded-xl",children:e.jsx(H,{value:"sections",children:"My Sections"})}),e.jsxs(U,{value:"sections",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search sections, subjects, or codes...",value:a,onChange:s=>k(s.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",p.length," of ",n.length," sections"]}),t.length>3&&e.jsx(x,{variant:"link",className:"text-primary hover:underline cursor-pointer",onClick:()=>m.visit(route("instructor.sections")),children:"View All"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(s=>e.jsxs(r,{className:"group hover:shadow-md transition-shadow",children:[e.jsxs(l,{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"w-full h-40 relative",children:[s.subject.image?e.jsx("img",{src:`/public/storage/${s.subject.image}`,alt:`${s.subject.title} subject title`,className:"w-full h-full object-cover rounded-xl"}):e.jsxs("div",{className:"relative h-full rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:[e.jsx(O,{className:"w-full h-full stroke-neutral-900/20 dark:stroke-neutral-100/20"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground",children:"No image available"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-2 right-2",children:s.subject.isActive===1?e.jsxs(u,{children:[e.jsx(h,{children:e.jsx("div",{className:"bg-green-500 hover:bg-green-600 h-3 w-3 rounded-full"})}),e.jsx(j,{children:e.jsx("p",{children:"Subject is currently active"})})]}):e.jsxs(u,{children:[e.jsx(h,{children:e.jsx("div",{className:"bg-gray-500 hover:bg-gray-600"})}),e.jsx(j,{children:e.jsx("p",{children:"Subject is currently inactive"})})]})}),e.jsx("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs(Y,{children:[e.jsx(z,{asChild:!0,children:e.jsx(x,{variant:"secondary",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"start",children:[e.jsxs(y,{onClick:()=>m.visit(route("instructor.modules",{course_id:s.course_id,year_level:s.year_level,section:s.section,subject_id:s.subject_id})),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Manage Subject"]}),e.jsxs(y,{children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]})})]}),e.jsxs("div",{className:"flex items-start justify-between mt-2",children:[e.jsxs(c,{className:"text-lg",children:[s.course_code," - ",s.year_level," ",s.section]}),e.jsxs(d,{variant:"outline",className:"ml-2 shrink-0",children:["Year ",s.year_level]})]})]}),e.jsxs(B,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),s.subject.code," - ",s.subject.title]}),s.subject.description&&e.jsxs(u,{children:[e.jsx(h,{asChild:!0,children:e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 cursor-help",children:s.subject.description})}),e.jsx(j,{className:"max-w-xs",children:e.jsx("p",{children:s.subject.description})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",children:[e.jsx(v,{className:"h-3 w-3 mr-1"}),s.subject.semester," Sem"]}),e.jsxs(d,{variant:"secondary",children:[e.jsx(C,{className:"h-3 w-3 mr-1"}),s.student_count," students"]})]})]})]}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-muted-foreground",children:"Course"}),e.jsx("span",{className:"font-medium truncate",title:s.course_name,children:s.course_name})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-muted-foreground",children:"Enrollment"}),e.jsxs("span",{className:"font-medium",children:[s.student_count,e.jsxs("span",{className:"text-muted-foreground ml-1",children:["student",s.student_count!==1?"s":""]})]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(x,{size:"sm",className:"flex-1 rounded-xl",onClick:()=>m.visit(route("instructor.modules",{course_id:s.course_id,year_level:s.year_level,section:s.section,subject_id:s.subject_id})),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Manage"]})})]})})]},`${s.id}-${s.subject.id}`))}),n.length===0&&a&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:['No sections found for "',a,'"']}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms"})]}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(w,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"You are not currently assigned to any sections"}),e.jsx("p",{className:"text-gray-600",children:"Contact your administrator to get assigned to sections"})]})]})]})]})})]})})}export{ve as default};
