import{r as c,j as e,L as le,S as k}from"./app-DPpDHeot.js";import{B as i}from"./button-5rleQZWM.js";import{C as d,c as n,a as E,b as I,B as C,d as ae}from"./badge-CFN1t7oJ.js";import{I as te}from"./input-COP_1Vis.js";import{S as h,a as j,b as p,c as v,d as a}from"./select-D_-oFfTY.js";import{m as re,B as O,D as ce,d as ie,e as de,g as P,S as L,n as ne,o as oe,p as me,C as q}from"./user-menu-content-hWpYs5TB.js";import{H as xe}from"./header-layout-BxaydInR.js";import{P as G}from"./placeholder-pattern-CGRLDaQH.js";import{G as ue,L as he}from"./list-D14hRzA_.js";import{U as M}from"./users-4iRM-hWf.js";import{C as je}from"./circle-check-big-B_KIdRY8.js";import{c as U}from"./createLucideIcon-zIaxm-Kn.js";import{F as pe}from"./filter-BSvKIPar.js";import{S as ve}from"./search-B8cNfduI.js";import{E as fe}from"./ellipsis-DYIlqy5G.js";import{E as ge}from"./eye-BPQ0qtyu.js";import{T as Ne}from"./text-select-C4By1KEU.js";import{G as be}from"./graduation-cap-D5cTDl-E.js";import"./index-YHXoRFnw.js";import"./index-Bd5eS0n0.js";import"./index-4LPP99tq.js";import"./chevron-down-C-P2bKL0.js";import"./check-Bkjf0qNY.js";import"./x-asu3yKNk.js";import"./app-logo-icon-C8-wOQb5.js";import"./menu-CScxh2_J.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Se=U("ArrowUpDown",we);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ce=U("ChartColumn",ye);function Xe({sections:o=[]}){const[f,A]=c.useState(""),[g,T]=c.useState("all"),[N,F]=c.useState("all"),[b,V]=c.useState("all"),[m,D]=c.useState("all"),[Y,H]=c.useState("name"),[w,R]=c.useState("asc"),[S,B]=c.useState("grid"),J=[...new Set(o.map(s=>s.subject.code))],K=[...new Set(o.map(s=>s.subject.semester))],Q=[...new Set(o.map(s=>s.year_level.toString()))],x=o.filter(s=>{const l=f.toLowerCase(),t=f===""||s.course_code.toLowerCase().includes(l)||s.subject.title.toLowerCase().includes(l)||s.subject.code.toLowerCase().includes(l)||s.section.toLowerCase().includes(l)||s.course_name.toLowerCase().includes(l),r=g==="all"||s.subject.code===g,Z=N==="all"||s.subject.semester===N,ee=b==="all"||s.year_level.toString()===b,se=m==="all"||m==="active"&&s.subject.isActive===1||m==="inactive"&&s.subject.isActive===0;return t&&r&&Z&&ee&&se}),y=[...x].sort((s,l)=>{let t,r;switch(Y){case"name":t=s.subject.title.toLowerCase(),r=l.subject.title.toLowerCase();break;case"students":t=s.student_count,r=l.student_count;break;case"year":t=s.year_level,r=l.year_level;break;case"semester":t=s.subject.semester.toLowerCase(),r=l.subject.semester.toLowerCase();break;default:t=s.subject.title.toLowerCase(),r=l.subject.title.toLowerCase()}return t<r?w==="asc"?-1:1:t>r?w==="asc"?1:-1:0}),_=x.length,$=x.reduce((s,l)=>s+l.student_count,0),W=x.filter(s=>s.subject.isActive===1).length,X=_>0?Math.round($/_):0,z=()=>{A(""),T("all"),F("all"),V("all"),D("all")},u=f!==""||g!=="all"||N!=="all"||b!=="all"||m!=="all";return e.jsx(re,{children:e.jsxs(xe,{children:[e.jsx(le,{title:"My Sections"}),e.jsx("div",{className:"min-h-screen mt-14",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Sections"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage all your assigned sections and subjects"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx(i,{variant:S==="grid"?"default":"ghost",size:"sm",onClick:()=>B("grid"),className:"rounded-r-none",children:e.jsx(ue,{className:"h-4 w-4"})}),e.jsx(i,{variant:S==="list"?"default":"ghost",size:"sm",onClick:()=>B("list"),className:"rounded-l-none",children:e.jsx(he,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(d,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sections"}),e.jsx("p",{className:"text-2xl font-bold",children:_})]}),e.jsx(O,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(d,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold",children:$})]}),e.jsx(M,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(d,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Sections"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:W})]}),e.jsx(je,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(d,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Students"}),e.jsx("p",{className:"text-2xl font-bold",children:X})]}),e.jsx(Ce,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),e.jsxs(d,{children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Filter & Sort Sections"]}),u&&e.jsx(i,{variant:"outline",size:"sm",onClick:z,children:"Clear Filters"})]})}),e.jsxs(n,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(te,{placeholder:"Search sections, subjects, courses...",value:f,onChange:s=>A(s.target.value),className:"pl-10"})]})}),e.jsxs(h,{value:g,onValueChange:T,children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Subject"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Subjects"}),J.map(s=>e.jsx(a,{value:s,children:s},s))]})]}),e.jsxs(h,{value:N,onValueChange:F,children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Semester"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Semesters"}),K.map(s=>e.jsx(a,{value:s,children:s},s))]})]}),e.jsxs(h,{value:b,onValueChange:V,children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Year Level"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Years"}),Q.map(s=>e.jsxs(a,{value:s,children:["Year ",s]},s))]})]}),e.jsxs(h,{value:m,onValueChange:D,children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Status"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"active",children:"Active Only"}),e.jsx(a,{value:"inactive",children:"Inactive Only"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t",children:[e.jsx("span",{className:"text-sm font-medium",children:"Sort by:"}),e.jsxs(h,{value:Y,onValueChange:s=>H(s),children:[e.jsx(j,{className:"w-[150px]",children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(a,{value:"name",children:"Subject Name"}),e.jsx(a,{value:"students",children:"Student Count"}),e.jsx(a,{value:"year",children:"Year Level"}),e.jsx(a,{value:"semester",children:"Semester"})]})]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>R(w==="asc"?"desc":"asc"),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),w==="asc"?"Ascending":"Descending"]})]})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",y.length," of ",o.length," sections",u&&" (filtered)"]}),u&&e.jsxs(C,{variant:"secondary",className:"text-xs",children:[o.length-x.length," hidden by filters"]})]}),S==="grid"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(s=>e.jsxs(d,{className:"group hover:shadow-md transition-shadow",children:[e.jsxs(E,{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"w-full h-40 relative",children:[s.subject.image?e.jsx("img",{src:`/public/storage/${s.subject.image}`,alt:`${s.subject.title} subject title`,className:"w-full h-full object-cover rounded-xl"}):e.jsxs("div",{className:"relative h-full rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:[e.jsx(G,{className:"w-full h-full stroke-neutral-900/20 dark:stroke-neutral-100/20"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground",children:"No image available"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-2 right-2",children:s.subject.isActive===1?e.jsx("div",{className:"bg-green-500 hover:bg-green-600 h-3 w-3 rounded-full",children:" "}):e.jsx("div",{className:"bg-gray-500 hover:bg-gray-600 h-3 w-3 rounded-full",children:" "})}),e.jsx("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs(ce,{children:[e.jsx(ie,{asChild:!0,children:e.jsx(i,{variant:"secondary",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(fe,{className:"h-4 w-4"})})}),e.jsxs(de,{align:"start",children:[e.jsxs(P,{onClick:()=>k.visit(route("instructor.modules",{course_id:s.course_id,year_level:s.year_level,section:s.section,subject_id:s.subject_id})),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Manage Subject"]}),e.jsxs(P,{children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]})})]}),e.jsxs("div",{className:"flex items-start justify-between mt-2",children:[e.jsxs(I,{className:"text-lg",children:[s.course_code," - ",s.year_level," ",s.section]}),e.jsxs(C,{variant:"outline",className:"ml-2 shrink-0",children:["Year ",s.year_level]})]})]}),e.jsxs(ae,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),s.subject.code," - ",s.subject.title]}),s.subject.description&&e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 cursor-help",children:s.subject.description})}),e.jsx(me,{className:"max-w-xs",children:e.jsx("p",{children:s.subject.description})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(C,{variant:"outline",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),s.subject.semester," Sem"]}),e.jsxs(C,{variant:"secondary",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),s.student_count," students"]})]})]})]}),e.jsx(n,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-muted-foreground",children:"Course"}),e.jsx("span",{className:"font-medium truncate",title:s.course_name,children:s.course_name})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-muted-foreground",children:"Enrollment"}),e.jsxs("span",{className:"font-medium",children:[s.student_count,e.jsxs("span",{className:"text-muted-foreground ml-1",children:["student",s.student_count!==1?"s":""]})]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(i,{size:"sm",className:"flex-1 rounded-xl",onClick:()=>k.visit(route("instructor.modules",{course_id:s.course_id,year_level:s.year_level,section:s.section,subject_id:s.subject_id})),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Manage"]})})]})})]},`${s.id}-${s.subject.id}`))}),S==="list"&&e.jsx("div",{className:"space-y-4",children:y.map(s=>e.jsx(d,{className:"hover:shadow-md transition-shadow",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 relative",children:s.subject.image?e.jsx("img",{src:`/public/storage/${s.subject.image}`,alt:`${s.subject.title} subject title`,className:"w-full h-full object-cover rounded-lg"}):e.jsx("div",{className:"relative h-full rounded-lg border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(G,{className:"w-full h-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[s.course_code," - ",s.year_level," ",s.section]}),s.subject.isActive===1?e.jsx("div",{className:"bg-green-500 h-3 w-3 rounded-full"}):e.jsx("div",{className:"bg-gray-500 h-3 w-3 rounded-full"})]}),e.jsxs("p",{className:"text-muted-foreground mb-2",children:[s.subject.code," - ",s.subject.title]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"h-4 w-4"}),s.student_count," students"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-4 w-4"}),s.subject.semester," Semester"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"h-4 w-4"}),"Year ",s.year_level]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(i,{size:"sm",onClick:()=>k.visit(route("instructor.modules",{course_id:s.course_id,year_level:s.year_level,section:s.section,subject_id:s.subject_id})),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Manage"]})})]})})},`${s.id}-${s.subject.id}`))})]}),y.length===0&&e.jsxs("div",{className:`text-center py-12 border-2 border-dashed border-[var(bg-main)]\r
               rounded-xl`,children:[e.jsx(O,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-base font-medium text-gray-600 mb-2",children:u?"No sections match your filters":"You are not currently assigned to any sections"}),u&&e.jsx(i,{variant:"outline",onClick:z,className:"mt-2 bg-transparent",children:"Clear all filters"})]})]})})]})})}export{Xe as default};
