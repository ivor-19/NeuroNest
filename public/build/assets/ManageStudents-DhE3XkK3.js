import{K as ve,r as N,m as ge,j as e,L as Ne,t as le,S as fe}from"./app-BL0KWvuE.js";import{C as m,c as h,a as F,b as M,B as t}from"./badge-DX-hSzwJ.js";import{B as T}from"./button-CjHP5RnJ.js";import{I as Se}from"./input-DaAHyLeW.js";import{L as i}from"./label-Dr1cfO0H.js";import{S as u,a as j,b as p,c as v,d as a}from"./select-Y-lX9e8p.js";import{T as ye,a as be,b as I,c as V}from"./tabs-DSVoaUKn.js";import{A as te,b as _e,c as re,D as Ce,d as we,e as Ae,f as De,g as ne,h as Te,C as Ye}from"./user-menu-content-mFISpfd6.js";import{T as ke,a as Fe,b as U,c as Y,d as Me,e as _}from"./table-CsFd-FIg.js";import{A as Le}from"./app-layout-C9W-Z8tt.js";import{D as Ie}from"./delete-modal-BSpFg05r.js";import{U as R}from"./users-DlRXdw9-.js";import{U as ie}from"./user-check-BvJxtWP6.js";import{c as Ve,G as Be}from"./graduation-cap-D_NDlXqB.js";import{U as H}from"./user-DcmHKIQc.js";import{S as Ee}from"./search-BVSg3_k5.js";import{E as Ue}from"./ellipsis-BDEAxAiC.js";import{T as Re}from"./trash-2-D2gvyVBC.js";import"./index-hOn5HVUv.js";import"./index-CJPvCRj7.js";import"./index-G8YvO4IO.js";import"./check-D8S4E2On.js";import"./x-J_75UvRD.js";import"./app-logo-icon-erXsJOKm.js";import"./book-open-DgnQBgSR.js";import"./mail-C4_eHR4b.js";import"./alert-dialog-ohILZYad.js";import"./unlink-jbbLCgI1.js";import"./triangle-alert-BWkoumGQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ze=Ve("Building2",He),Oe=[{title:"Student Management",href:"admin/manageStudents"}];function Ns({users:z,students:C,courses:w}){var X,ee;const{auth:ce}=ve().props,[de,B]=N.useState("overview"),[c,O]=N.useState(""),[f,G]=N.useState("all"),[S,K]=N.useState("all"),[A,$]=N.useState("all"),[D,q]=N.useState("all"),{data:d,setData:g,post:oe,processing:J,errors:n,reset:P}=ge({student_id:"",course_id:"",year_level:"",section:"",academic_year:""}),xe=async s=>{s.preventDefault(),oe(route("admin.assignStudent"),{onSuccess:()=>{fe.post(route("admin.addActivity"),{type:"assign",user:ce.user.name,action:"Assign section",details:`${d.year_level} - ${d.section}`},{}),P()},onError:l=>{console.error("Error occurred",l)}})},Z=s=>s.split(" ").map(l=>l[0]).join("").toUpperCase(),L=C.filter(s=>{var x,se,ae;const l=!c||((x=s.student_name)==null?void 0:x.toLowerCase().includes(c.toLowerCase()))||((se=s.student_id)==null?void 0:se.toLowerCase().includes(c.toLowerCase()))||((ae=s.student_email)==null?void 0:ae.toLowerCase().includes(c.toLowerCase())),r=f==="all"||s.student_status===f,o=S==="all"||s.course_id!=null&&s.course_id.toString()===S,b=A==="all"||s.year_level!=null&&s.year_level.toString()===A,k=D==="all"||s.section!=null&&s.section===D;return l&&r&&o&&b&&k}),[me,he]=N.useState(0),[ue,Q]=N.useState(!1),je=async s=>{Q(!0),he(s)},y=C.length,W=C.filter(s=>s.student_status==="active").length,E=C.filter(s=>s.section).length,pe=y-E;return e.jsxs(Le,{breadcrumbs:Oe,children:[e.jsx(Ne,{title:"Student Management System"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-8 bg-[var(--bg-main)]",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Student Management System"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Comprehensive student enrollment and section management platform"})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(m,{children:e.jsx(h,{className:"flex items-center p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(R,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold",children:y})]})]})})}),e.jsx(m,{children:e.jsx(h,{className:"flex items-center p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ie,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Students"}),e.jsx("p",{className:"text-2xl font-bold",children:W})]})]})})}),e.jsx(m,{children:e.jsx(h,{className:"flex items-center p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ze,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assigned to Sections"}),e.jsx("p",{className:"text-2xl font-bold",children:E})]})]})})}),e.jsx(m,{children:e.jsx(h,{className:"flex items-center p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(H,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Unassigned"}),e.jsx("p",{className:"text-2xl font-bold",children:pe})]})]})})})]}),e.jsxs(ye,{value:de,onValueChange:B,className:"space-y-6",children:[e.jsxs(be,{className:"grid w-full grid-cols-4 lg:max-w-[60%]",children:[e.jsx(I,{value:"overview",className:"text-sm cursor-pointer",children:"Student Directory"}),e.jsx(I,{value:"assignments",className:"text-sm cursor-pointer",children:"Assign Sections"}),e.jsx(I,{value:"sections",className:"text-sm cursor-pointer",children:"Section Overview"}),e.jsx(I,{value:"analytics",className:"text-sm cursor-pointer",children:"Analytics"})]}),e.jsx(V,{value:"overview",className:"space-y-6",children:e.jsxs(m,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Student Directory"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage and view all registered students"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{children:[L.length," student",L.length!==1?"s":""," shown"]})]})]})}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search by name, ID, or email...",className:"pl-9",value:c,onChange:s=>O(s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Status"}),e.jsxs(u,{value:f,onValueChange:G,children:[e.jsx(j,{className:"h-8 cursor-pointer",children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"active",children:"Active"}),e.jsx(a,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Course"}),e.jsxs(u,{value:S,onValueChange:K,children:[e.jsx(j,{className:"h-8 cursor-pointer",children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Courses"}),w.map(s=>e.jsx(a,{value:s.id.toString(),children:s.code},s.id))]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Year"}),e.jsxs(u,{value:A,onValueChange:$,children:[e.jsx(j,{className:"h-8 cursor-pointer",children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Years"}),e.jsx(a,{value:"1",children:"1st Year"}),e.jsx(a,{value:"2",children:"2nd Year"}),e.jsx(a,{value:"3",children:"3rd Year"}),e.jsx(a,{value:"4",children:"4th Year"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Section"}),e.jsxs(u,{value:D,onValueChange:q,children:[e.jsx(j,{className:"h-8 cursor-pointer",children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Sections"}),e.jsx(a,{value:"A",children:"Section A"}),e.jsx(a,{value:"B",children:"Section B"}),e.jsx(a,{value:"C",children:"Section C"}),e.jsx(a,{value:"D",children:"Section D"}),e.jsx(a,{value:"E",children:"Section E"}),e.jsx(a,{value:"F",children:"Section F"}),e.jsx(a,{value:"G",children:"Section G"}),e.jsx(a,{value:"H",children:"Section H"}),e.jsx(a,{value:"I",children:"Section I"}),e.jsx(a,{value:"J",children:"Section J"}),e.jsx(a,{value:"K",children:"Section K"}),e.jsx(a,{value:"L",children:"Section L"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Actions"}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>{O(""),G("all"),K("all"),$("all"),q("all")},className:"h-8 w-full text-xs bg-transparent cursor-pointer",children:"Clear Filters"})]})]}),(c||f!=="all"||S!=="all"||A!=="all"||D!=="all")&&e.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-muted/30 rounded-lg",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Active filters:"}),c&&e.jsxs(t,{variant:"secondary",className:"text-xs",children:['Search: "',c,'"']}),f!=="all"&&e.jsxs(t,{variant:"secondary",className:"text-xs",children:["Status: ",f]}),S!=="all"&&e.jsxs(t,{variant:"secondary",className:"text-xs",children:["Course: ",(X=w.find(s=>s.id.toString()===S))==null?void 0:X.code]}),A!=="all"&&e.jsxs(t,{variant:"secondary",className:"text-xs",children:["Year: ",A]}),D!=="all"&&e.jsxs(t,{variant:"secondary",className:"text-xs",children:["Section: ",D]})]})]}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(ke,{children:[e.jsx(Fe,{children:e.jsxs(U,{className:"bg-muted/50",children:[e.jsx(Y,{className:"w-12",children:"#"}),e.jsx(Y,{children:"Student Information"}),e.jsx(Y,{children:"Course Program"}),e.jsx(Y,{children:"Academic Details"}),e.jsx(Y,{children:"Status"}),e.jsx(Y,{className:"w-12",children:"Actions"})]})}),e.jsx(Me,{children:L.length>0?L.map((s,l)=>{var r;return e.jsxs(U,{className:"hover:bg-muted/50",children:[e.jsx(_,{className:"font-medium text-muted-foreground",children:l+1}),e.jsx(_,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(te,{className:"h-10 w-10",children:[e.jsx(_e,{src:"",alt:s.student_name}),e.jsx(re,{className:"text-xs",children:Z(s.student_name)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.student_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.student_id}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.student_email})]})]})}),e.jsx(_,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.course_code}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(r=w.find(o=>o.id===s.course_id))==null?void 0:r.name})]})}),e.jsx(_,{children:s.section?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(t,{variant:"outline",className:"text-xs",children:["Year ",s.year_level]}),e.jsxs(t,{variant:"outline",className:"text-xs",children:["Section ",s.section]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["AY ",s.academic_year]})]}):e.jsx(T,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs cursor-pointer",onClick:()=>{s.user_id?(B("assignments"),g("student_id",s.user_id.toString())):(le.error("This student doesn't have a valid profile ID"),console.log(s.user_id))},children:e.jsx(t,{children:" Not Assigned "})})}),e.jsx(_,{children:e.jsx(t,{variant:s.student_status==="active"?"default":"secondary",className:"text-xs",children:s.student_status})}),e.jsx(_,{children:e.jsxs(Ce,{children:[e.jsx(we,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"sm",className:"cursor-pointer",children:e.jsx(Ue,{className:"h-4 w-4"})})}),e.jsxs(Ae,{align:"end",children:[e.jsx(De,{children:"Actions"}),!s.section&&e.jsxs(ne,{className:"cursor-pointer",onClick:()=>{s.user_id?(B("assignments"),g("student_id",s.user_id.toString())):(le.error("This student doesn't have a valid profile ID"),console.log(s.user_id))},children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Assign Section"]}),s.section&&e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsxs(ne,{className:"text-destructive cursor-pointer",onClick:()=>je(s.profile_id),children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Remove from section"]})]})]})]})})]},s.user_id)}):e.jsx(U,{children:e.jsx(_,{colSpan:6,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(R,{className:"h-8 w-8 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:c||f!=="all"||S!=="all"?"No students match the current filters":"No students found"})]})})})})]})})]})]})}),e.jsx(V,{value:"assignments",className:"space-y-6",children:e.jsxs(m,{children:[e.jsxs(F,{children:[e.jsx(M,{className:"text-xl",children:"Assign Sections Center"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Assign students to their respective course sections and academic years"}),d.student_id&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(t,{variant:"secondary",className:"w-fit",children:["Assigning section for: ",((ee=z.find(s=>s.id.toString()===d.student_id))==null?void 0:ee.name)||"Unknown Student"]}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>g("student_id",""),children:"Clear"})]})]}),e.jsx(h,{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"student",className:"text-sm font-medium",children:"Select Student"}),e.jsxs(u,{value:d.student_id,onValueChange:s=>g("student_id",s),children:[e.jsx(j,{className:"h-11 cursor-pointer",children:e.jsx(p,{placeholder:"Choose a student to assign"})}),e.jsx(v,{children:z.map(s=>e.jsx(a,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:s.name}),e.jsx(t,{variant:"outline",className:"text-xs",children:s.account_id})]})},s.id))})]}),n.student_id&&e.jsx("p",{className:"text-sm text-destructive",children:n.student_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"course",className:"text-sm font-medium",children:"Course Program"}),e.jsxs(u,{value:d.course_id,onValueChange:s=>g("course_id",s),children:[e.jsx(j,{className:"h-11 cursor-pointer",children:e.jsx(p,{placeholder:"Select course program"})}),e.jsx(v,{children:w.map(s=>e.jsx(a,{value:String(s.id),children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.code}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.name})]})},s.id))})]}),n.course_id&&e.jsx("p",{className:"text-sm text-destructive",children:n.course_id})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"yearLevel",className:"text-sm font-medium",children:"Year Level"}),e.jsxs(u,{value:d.year_level,onValueChange:s=>g("year_level",s),children:[e.jsx(j,{className:"h-11 cursor-pointer",children:e.jsx(p,{placeholder:"Year"})}),e.jsxs(v,{children:[e.jsx(a,{value:"1",children:"1st Year"}),e.jsx(a,{value:"2",children:"2nd Year"}),e.jsx(a,{value:"3",children:"3rd Year"}),e.jsx(a,{value:"4",children:"4th Year"})]})]}),n.year_level&&e.jsx("p",{className:"text-sm text-destructive",children:n.year_level})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"section",className:"text-sm font-medium",children:"Section"}),e.jsxs(u,{value:d.section,onValueChange:s=>g("section",s),children:[e.jsx(j,{className:"h-11 cursor-pointer",children:e.jsx(p,{placeholder:"Section"})}),e.jsxs(v,{children:[e.jsx(a,{value:"A",children:"Section A"}),e.jsx(a,{value:"B",children:"Section B"}),e.jsx(a,{value:"C",children:"Section C"}),e.jsx(a,{value:"D",children:"Section D"})]})]}),n.section&&e.jsx("p",{className:"text-sm text-destructive",children:n.section})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"academicYear",className:"text-sm font-medium",children:"Academic Year"}),e.jsxs(u,{value:d.academic_year,onValueChange:s=>g("academic_year",s),children:[e.jsx(j,{className:"h-11 cursor-pointer",children:e.jsx(p,{placeholder:"Year"})}),e.jsxs(v,{children:[e.jsx(a,{value:"2024",children:"2024"}),e.jsx(a,{value:"2025",children:"2025"}),e.jsx(a,{value:"2026",children:"2026"})]})]}),n.academic_year&&e.jsx("p",{className:"text-sm text-destructive",children:n.academic_year})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(T,{onClick:xe,disabled:J,className:"flex-1",children:J?"Assigning...":"Assign to Section"}),e.jsx(T,{variant:"outline",onClick:()=>P(),children:"Clear Form"})]})]})]})})]})}),e.jsx(V,{value:"sections",className:"space-y-6",children:e.jsxs(m,{children:[e.jsxs(F,{children:[e.jsx(M,{className:"text-xl",children:"Section Distribution Overview"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View student enrollment across all course programs and sections"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-8",children:w.map(s=>{const l=C.filter(r=>r.course_id===s.id);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Be,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[s.code," - ",s.name]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.length," total students enrolled"]})]})]}),e.jsxs(t,{variant:"outline",children:[l.length," students"]})]}),l.length>0?e.jsx("div",{className:"grid gap-4",children:[1,2,3,4].map(r=>{const o=l.filter(b=>b.year_level===r);return o.length===0?null:e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),"Year ",r]}),e.jsxs(t,{variant:"secondary",children:[o.length," students"]})]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:["A","B","C","D"].map(b=>{const k=o.filter(x=>x.section===b);return e.jsxs("div",{className:"border rounded-lg p-3 bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{className:"font-medium text-sm",children:["Section ",b]}),e.jsx(t,{variant:"outline",className:"text-xs",children:k.length})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:k.length>0?k.map(x=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded text-xs",children:[e.jsx(te,{className:"h-6 w-6",children:e.jsx(re,{className:"text-xs",children:Z(x.student_name)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:x.student_name}),e.jsx("p",{className:"text-muted-foreground",children:x.student_id})]})]},x.user_id)):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"No students assigned"})})})]},b)})})]},r)})}):e.jsxs("div",{className:"text-center py-8 border rounded-lg border-dashed",children:[e.jsx(H,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"No students enrolled in this program"})]})]},s.id)})})})]})}),e.jsx(V,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{children:[e.jsx(F,{children:e.jsx(M,{className:"text-lg",children:"Enrollment Statistics"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Enrollment"}),e.jsx("span",{className:"font-semibold",children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Active Students"}),e.jsx("span",{className:"font-semibold text-green-600",children:W})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Section Assignment Rate"}),e.jsxs("span",{className:"font-semibold",children:[y>0?Math.round(E/y*100):0,"%"]})]})]})})]}),e.jsxs(m,{children:[e.jsx(F,{children:e.jsx(M,{className:"text-lg",children:"Course Distribution"})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:w.map(s=>{const l=C.filter(o=>o.course_id===s.id).length,r=y>0?l/y*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s.code}),e.jsxs("span",{children:[l," students"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})})]},s.id)})})})]})]})})]}),e.jsx(Ie,{open:ue,onOpenChange:Q,id:me,title:"Remove Student",routeLink:"admin.removeFromSection",description:"This will permanently remove the student to this section",toastMessage:"Removal complete",buttonTitle:"Confirm",type:"remove",additionalInfo:["Student will be remove from this section","You can re-add the student to this section later if needed"]})]})]})}export{Ns as default};
